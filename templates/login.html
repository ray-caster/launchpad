<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | Launchpad.org</title>
    <meta name="description" content="Login to your Launchpad Robotics account to access STEM education and robotics programs.">
    <meta name="keywords" content="login, robotics, STEM education, Surabaya, coding, electronics">
    <meta name="author" content="Launchpad Robotics">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Space+Grotesk:wght@400;600;700&family=Red+Hat+Display:wght@400;700&display=swap');
        :root { --primary: #6d28d9; --secondary: #10b981; --dark: #0f172a; --light: #f8fafc; }
        body { font-family: 'Space Grotesk', sans-serif; background-color: var(--dark); color: var(--light); min-height: 100vh; }
        .orbitron { font-family: 'Orbitron', sans-serif; }
        .gradient-text { background: linear-gradient(90deg, #8b5cf6, #3b82f6, #10b981); -webkit-background-clip: text; background-clip: text; color: transparent; }
        .star { position: absolute; background: white; border-radius: 50%; opacity: 0; will-change: opacity; }
        .input-focus:focus { box-shadow: 0 0 0 3px rgba(109, 40, 217, 0.3); }
        .section-divider { background: linear-gradient(90deg, rgba(59,130,246,0) 0%, rgba(59,130,246,0.5) 50%, rgba(59,130,246,0) 100%); height: 1px; width: 100%; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in-up { animation: fadeInUp 0.6s ease-out forwards; }
        .delay-100 { animation-delay: 0.1s; } .delay-200 { animation-delay: 0.2s; } .delay-300 { animation-delay: 0.3s; }
    </style>
</head>
<body class="relative overflow-x-hidden">
    <div id="stars-container" class="fixed inset-0 overflow-hidden -z-10"></div>
    <main class="min-h-screen flex items-center justify-center px-4 py-12 sm:px-6 lg:px-8">
        <div class="w-full max-w-md space-y-8">
            <div class="text-center animate-fade-in-up">
                <div class="flex justify-center items-center space-x-2">
                    <!-- Assuming you have a logo in a static/images folder -->
                    <img src="{{url_for('static', filename='images/logo.webp', _external=True)}}" alt="Launchpad Logo" class="h-10">
                    <span class="font-['Red_Hat_Display'] text-3xl font-bold text-[#f8f8f8] drop-shadow-[0_0_8px_rgba(248,248,248,0.8)]">Launchpad.org</span>
                </div>
                <h2 class="mt-6 orbitron text-3xl font-bold text-white"><span class="gradient-text">Welcome Back</span></h2>
                <p class="mt-2 text-sm text-gray-400">Sign in to access your STEM learning dashboard</p>
                <div class="section-divider mx-auto my-6 max-w-xs"></div>
            </div>

            <!-- *** MODIFIED FORM TAG *** 
                 Action points to the /login route in Flask.
                 Method is POST to send data securely. -->
            <form id="login-form" class="mt-8 space-y-6 bg-gray-800/80 backdrop-blur-sm rounded-2xl p-8 border border-gray-700 shadow-lg animate-fade-in-up delay-100"
                  action="{{ url_for('login') }}" method="POST">
                
                <!-- *** NEW: Display server-side errors here *** -->
                {% if error %}
                <div id="login-error" class="bg-red-900/50 text-red-300 px-4 py-3 rounded-md text-sm">
                    {{ error }}
                </div>
                {% endif %}
                
                <div class="space-y-4">
                    <div class="animate-fade-in-up delay-200">
                        <label for="email" class="block text-sm font-medium text-gray-300 mb-1">Email address</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><i class="fas fa-envelope text-gray-500"></i></div>
                            <input id="email" name="email" type="email" autocomplete="email" required class="w-full pl-10 pr-3 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-white placeholder-gray-400 input-focus" placeholder="you@example.com">
                        </div>
                    </div>
                    <div class="animate-fade-in-up delay-300">
                        <div class="flex items-center justify-between">
                            <label for="password" class="block text-sm font-medium text-gray-300 mb-1">Password</label>
                            <div class="text-sm"><a href="#" class="font-medium text-purple-400 hover:text-purple-300 transition-colors">Forgot password?</a></div>
                        </div>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><i class="fas fa-lock text-gray-500"></i></div>
                            <input id="password" name="password" type="password" autocomplete="current-password" required class="w-full pl-10 pr-3 py-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-white placeholder-gray-400 input-focus" placeholder="••••••••">
                            <button type="button" id="toggle-password" class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300"><i class="fas fa-eye-slash"></i></button>
                        </div>
                    </div>
                </div>
                <div class="animate-fade-in-up delay-300">
                    <button type="submit" class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors shadow-lg shadow-purple-500/20">
                        <span class="absolute left-0 inset-y-0 flex items-center pl-3"><i class="fas fa-sign-in-alt text-purple-300 group-hover:text-purple-200 transition-colors"></i></span>
                        Sign in
                    </button>
                </div>
            </form>
        </div>
    </main>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Star background animation (no changes needed here)
            const starsContainer = document.getElementById('stars-container');
            if (starsContainer) {
                const fragment = document.createDocumentFragment();
                for (let i = 0; i < 100; i++) {
                    const star = document.createElement('div');
                    star.classList.add('star');
                    const size = Math.random() * 2 + 1;
                    star.style.cssText = `width:${size}px; height:${size}px; left:${Math.random()*100}%; top:${Math.random()*100}%; opacity:${Math.random()}; animation:twinkle ${5+Math.random()*10}s infinite ${Math.random()*5}s ease-in-out;`;
                    fragment.appendChild(star);
                }
                starsContainer.appendChild(fragment);
                const style = document.createElement('style');
                style.textContent = `@keyframes twinkle { 0%, 100% { opacity: 0; } 50% { opacity: 1; } }`;
                document.head.appendChild(style);
            }

            // Toggle password visibility (no changes needed here)
            const togglePassword = document.getElementById('toggle-password');
            const passwordInput = document.getElementById('password');
            if (togglePassword && passwordInput) {
                togglePassword.addEventListener('click', function() {
                    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                    passwordInput.setAttribute('type', type);
                    this.querySelector('i').classList.toggle('fa-eye');
                    this.querySelector('i').classList.toggle('fa-eye-slash');
                });
            }

        });
    </script>
</body>
</html>